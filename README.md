# Node.js CRUD API

## Description

This is CRUD (create, read, update, delete) API.

It uses in-memory database. It means that if you restart the process, all data will be lost.


## How to start the API

### Start in developer mode:

```bash
npm run start:dev
```

### Start in production mode:

```bash
npm run start:prod
```

### Start multi instances with a load balancer:

```bash
npm run start:multi
```

## Port for the application

You could specify what port to use in `.env` file, it's stored in root directory.


## Endpoints

- **GET** `/api/users` is used to get all persons
  - Server will answer with `status code` **200** and all users records
- **GET** `/api/users/${userId}`
  - Server will answer with `status code` **200** and record with `id === userId` if it exists
  - Server will answer with `status code` **400** and corresponding message if `userId` is invalid (not `uuid`)
  - Server will answer with `status code` **404** and corresponding message if record with `id === userId` doesn't exist
- **POST** `/api/users` is used to create record about new user and store it in database
  - Server will answer with `status code` **201** and newly created record
  - Server will answer with `status code` **400** and corresponding message if request `body` does not contain **required** fields
- **PUT** `/api/users/{userId}` is used to update existing user
  - Server will answer with` status code` **200** and updated record
  - Server will answer with` status code` **400** and corresponding message if `userId` is invalid (not `uuid`)
  - Server will answer with` status code` **404** and corresponding message if record with `id === userId` doesn't exist
- **DELETE** `/api/users/${userId}` is used to delete existing user from database
  - Server will answer with `status code` **204** if the record is found and deleted
  - Server will answer with `status code` **400** and corresponding message if `userId` is invalid (not `uuid`)
  - Server will answer with `status code` **404** and corresponding message if record with `id === userId` doesn't exist

## Make sure using valid user id

User id is generated by server and could be taken from data, which is returned by `POST` (user creating) request. 

It has a basic format of `uuid` version 4.

## How users are stored

Users are stored as `objects` that have the following properties:
  - `id` — unique identifier (`string`, `uuid`) generated on server side
  - `username` — user's name (`string`, **required**)
  - `age` — user's age (`number`, **required**)
  - `hobbies` — user's hobbies (`array` of `strings` or empty `array`, **required**)

## How to call API
- Open Postman or any other API testing tool
- Fill the address input with http://localhost:4000/api/users
- Choose method and send request.
- Testing data for PUT request:
  {
    "id": "95b8cb0c-3365-425e-8fa5-ac4fce61bcb2",
    "username": "Your Username",
    "age": 33,
    "hobbies": ["Node Js", "Nest Js"]
  }
